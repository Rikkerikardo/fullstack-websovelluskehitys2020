{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Koulu\\\\Desktop\\\\Fullstack\\\\fullstack-websovelluskehitys2020\\\\osa7\\\\country-hook\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst useField = type => {\n  const [value, setValue] = useState(\"\");\n\n  const onChange = event => {\n    setValue(event.target.value);\n  };\n\n  return {\n    type,\n    value,\n    onChange\n  };\n};\n\nconst useCountry = name => {\n  const [country, setCountry] = useState(null);\n  useEffect(() => {\n    axios.get(`https://restcountries.eu/rest/v2/name/${name}?fullText=true`).then(response => {\n      const fetched = response.data[0];\n      setCountry(fetched);\n    });\n  }, [name]);\n  return country;\n};\n\nconst Country = ({\n  country\n}) => {\n  if (!country) {\n    return null;\n  }\n\n  if (!country.name) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"not found...\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, country.name, \" \"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"capital \", country.capital, \" \"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"population \", country.population), React.createElement(\"img\", {\n    src: country.flag,\n    height: \"100\",\n    alt: `flag of ${country.name}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }));\n};\n\nconst App = () => {\n  const nameInput = useField(\"text\");\n  const [name, setName] = useState(\"\");\n  const country = useCountry(name);\n\n  const fetch = e => {\n    e.preventDefault();\n    setName(nameInput.value);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: fetch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", Object.assign({}, nameInput, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"find\")), React.createElement(Country, {\n    country: country,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Koulu/Desktop/Fullstack/fullstack-websovelluskehitys2020/osa7/country-hook/src/App.js"],"names":["React","useState","useEffect","axios","useField","type","value","setValue","onChange","event","target","useCountry","name","country","setCountry","get","then","response","fetched","data","Country","capital","population","flag","App","nameInput","setName","fetch","e","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAIC,IAAD,IAAU;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMO,QAAQ,GAAIC,KAAD,IAAW;AAC1BF,IAAAA,QAAQ,CAACE,KAAK,CAACC,MAAN,CAAaJ,KAAd,CAAR;AACD,GAFD;;AAIA,SAAO;AACLD,IAAAA,IADK;AAELC,IAAAA,KAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD,CAZD;;AAcA,MAAMG,UAAU,GAAIC,IAAD,IAAU;AAC3B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFY,GADH,CACQ,yCAAwCH,IAAK,gBADrD,EAEGI,IAFH,CAESC,QAAD,IAAc;AAClB,YAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAT,CAAc,CAAd,CAAhB;AACAL,MAAAA,UAAU,CAACI,OAAD,CAAV;AACD,KALH;AAMD,GAPQ,EAON,CAACN,IAAD,CAPM,CAAT;AASA,SAAOC,OAAP;AACD,CAbD;;AAeA,MAAMO,OAAO,GAAG,CAAC;AAAEP,EAAAA;AAAF,CAAD,KAAiB;AAC/B,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,IAAP;AACD;;AAED,MAAI,CAACA,OAAO,CAACD,IAAb,EAAmB;AACjB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKC,OAAO,CAACD,IAAb,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAcC,OAAO,CAACQ,OAAtB,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAiBR,OAAO,CAACS,UAAzB,CAHF,EAIE;AAAK,IAAA,GAAG,EAAET,OAAO,CAACU,IAAlB;AAAwB,IAAA,MAAM,EAAC,KAA/B;AAAqC,IAAA,GAAG,EAAG,WAAUV,OAAO,CAACD,IAAK,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAQD,CAjBD;;AAmBA,MAAMY,GAAG,GAAG,MAAM;AAChB,QAAMC,SAAS,GAAGrB,QAAQ,CAAC,MAAD,CAA1B;AACA,QAAM,CAACQ,IAAD,EAAOc,OAAP,IAAkBzB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMY,OAAO,GAAGF,UAAU,CAACC,IAAD,CAA1B;;AAEA,QAAMe,KAAK,GAAIC,CAAD,IAAO;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,OAAO,CAACD,SAAS,CAACnB,KAAX,CAAP;AACD,GAHD;;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEqB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,+CAAWF,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CADF,EAME,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEZ,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CApBD;;AAsBA,eAAeW,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\n\r\nconst useField = (type) => {\r\n  const [value, setValue] = useState(\"\")\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    onChange\r\n  }\r\n}\r\n\r\nconst useCountry = (name) => {\r\n  const [country, setCountry] = useState(null)\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://restcountries.eu/rest/v2/name/${name}?fullText=true`)\r\n      .then((response) => {\r\n        const fetched = response.data[0]\r\n        setCountry(fetched)\r\n      })\r\n  }, [name])\r\n\r\n  return country\r\n}\r\n\r\nconst Country = ({ country }) => {\r\n  if (!country) {\r\n    return null\r\n  }\r\n\r\n  if (!country.name) {\r\n    return <div>not found...</div>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>{country.name} </h3>\r\n      <div>capital {country.capital} </div>\r\n      <div>population {country.population}</div>\r\n      <img src={country.flag} height=\"100\" alt={`flag of ${country.name}`} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const nameInput = useField(\"text\")\r\n  const [name, setName] = useState(\"\")\r\n  const country = useCountry(name)\r\n\r\n  const fetch = (e) => {\r\n    e.preventDefault()\r\n    setName(nameInput.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={fetch}>\r\n        <input {...nameInput} />\r\n        <button>find</button>\r\n      </form>\r\n\r\n      <Country country={country} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}