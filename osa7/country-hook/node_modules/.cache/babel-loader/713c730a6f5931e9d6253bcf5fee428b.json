{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Koulu\\\\Desktop\\\\Fullstack\\\\fullstack-websovelluskehitys2020\\\\osa7\\\\country-hook\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst useField = type => {\n  const [value, setValue] = useState(\"\");\n\n  const onChange = event => {\n    setValue(event.target.value);\n  };\n\n  return {\n    type,\n    value,\n    onChange\n  };\n};\n\nconst useCountry = name => {\n  const [country, setCountry] = useState(null);\n  const fetched = {};\n  useEffect(() => {\n    axios.get(`https://restcountries.eu/rest/v2/name/${name}?fullText=true`).then(response => {\n      fetched = response.data[0];\n      console.log(\"response data\", response.data[0]);\n    });\n  }, [name]);\n  setCountry(fetched);\n  console.log(\"country changed to\", country);\n  return country;\n};\n\nconst Country = ({\n  country\n}) => {\n  if (!country) {\n    return null;\n  }\n\n  if (!country.found) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"not found...\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, country.data.name, \" \"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"capital \", country.data.capital, \" \"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"population \", country.data.population), React.createElement(\"img\", {\n    src: country.data.flag,\n    height: \"100\",\n    alt: `flag of ${country.data.name}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }));\n};\n\nconst App = () => {\n  const nameInput = useField(\"text\");\n  const [name, setName] = useState(\"\");\n  const country = useCountry(name);\n\n  const fetch = e => {\n    e.preventDefault();\n    setName(nameInput.value);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: fetch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"input\", Object.assign({}, nameInput, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"find\")), React.createElement(Country, {\n    country: country,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Koulu/Desktop/Fullstack/fullstack-websovelluskehitys2020/osa7/country-hook/src/App.js"],"names":["React","useState","useEffect","axios","useField","type","value","setValue","onChange","event","target","useCountry","name","country","setCountry","fetched","get","then","response","data","console","log","Country","found","capital","population","flag","App","nameInput","setName","fetch","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\n\r\nconst useField = (type) => {\r\n  const [value, setValue] = useState(\"\")\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    onChange\r\n  }\r\n}\r\n\r\nconst useCountry = (name) => {\r\n  const [country, setCountry] = useState(null)\r\n  const fetched = {}\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://restcountries.eu/rest/v2/name/${name}?fullText=true`)\r\n      .then((response) => {\r\n        fetched = response.data[0]\r\n        console.log(\"response data\", response.data[0])\r\n      })\r\n  }, [name])\r\n\r\n  setCountry(fetched)\r\n  console.log(\"country changed to\", country)\r\n  return country\r\n}\r\n\r\nconst Country = ({ country }) => {\r\n  if (!country) {\r\n    return null\r\n  }\r\n\r\n  if (!country.found) {\r\n    return <div>not found...</div>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>{country.data.name} </h3>\r\n      <div>capital {country.data.capital} </div>\r\n      <div>population {country.data.population}</div>\r\n      <img\r\n        src={country.data.flag}\r\n        height=\"100\"\r\n        alt={`flag of ${country.data.name}`}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const nameInput = useField(\"text\")\r\n  const [name, setName] = useState(\"\")\r\n  const country = useCountry(name)\r\n\r\n  const fetch = (e) => {\r\n    e.preventDefault()\r\n    setName(nameInput.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={fetch}>\r\n        <input {...nameInput} />\r\n        <button>find</button>\r\n      </form>\r\n\r\n      <Country country={country} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}