{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Koulu\\\\Desktop\\\\Fullstack\\\\fullstack-websovelluskehitys2020\\\\osa7\\\\country-hook\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst useField = type => {\n  const [value, setValue] = useState(\"\");\n\n  const onChange = event => {\n    setValue(event.target.value);\n  };\n\n  return {\n    type,\n    value,\n    onChange\n  };\n};\n\nconst useCountry = name => {\n  const [country, setCountry] = useState(null);\n  useEffect(() => {\n    const fetchedCountry = axios.get(`\n     https://restcountries.eu/rest/v2/name/${name}?fullText=true`);\n  });\n  setCountry(fetchedCountry);\n  return country;\n};\n\nconst Country = ({\n  country\n}) => {\n  if (!country) {\n    return null;\n  }\n\n  if (!country.found) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"not found...\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, country.data.name, \" \"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"capital \", country.data.capital, \" \"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"population \", country.data.population), React.createElement(\"img\", {\n    src: country.data.flag,\n    height: \"100\",\n    alt: `flag of ${country.data.name}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }));\n};\n\nconst App = () => {\n  const nameInput = useField(\"text\");\n  const [name, setName] = useState(\"\");\n  const country = useCountry(name);\n\n  const fetch = e => {\n    e.preventDefault();\n    setName(nameInput.value);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: fetch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"input\", Object.assign({}, nameInput, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"find\")), React.createElement(Country, {\n    country: country,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Koulu/Desktop/Fullstack/fullstack-websovelluskehitys2020/osa7/country-hook/src/App.js"],"names":["React","useState","useEffect","axios","useField","type","value","setValue","onChange","event","target","useCountry","name","country","setCountry","fetchedCountry","get","Country","found","data","capital","population","flag","App","nameInput","setName","fetch","e","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAIC,IAAD,IAAU;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMO,QAAQ,GAAIC,KAAD,IAAW;AAC1BF,IAAAA,QAAQ,CAACE,KAAK,CAACC,MAAN,CAAaJ,KAAd,CAAR;AACD,GAFD;;AAIA,SAAO;AACLD,IAAAA,IADK;AAELC,IAAAA,KAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD,CAZD;;AAcA,MAAMG,UAAU,GAAIC,IAAD,IAAU;AAC3B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMa,cAAc,GAAGZ,KAAK,CAACa,GAAN,CAAW;6CACOJ,IAAK,gBADvB,CAAvB;AAED,GAHQ,CAAT;AAIAE,EAAAA,UAAU,CAACC,cAAD,CAAV;AAEA,SAAOF,OAAP;AACD,CAVD;;AAYA,MAAMI,OAAO,GAAG,CAAC;AAAEJ,EAAAA;AAAF,CAAD,KAAiB;AAC/B,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,IAAP;AACD;;AAED,MAAI,CAACA,OAAO,CAACK,KAAb,EAAoB;AAClB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKL,OAAO,CAACM,IAAR,CAAaP,IAAlB,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAcC,OAAO,CAACM,IAAR,CAAaC,OAA3B,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAiBP,OAAO,CAACM,IAAR,CAAaE,UAA9B,CAHF,EAIE;AACE,IAAA,GAAG,EAAER,OAAO,CAACM,IAAR,CAAaG,IADpB;AAEE,IAAA,MAAM,EAAC,KAFT;AAGE,IAAA,GAAG,EAAG,WAAUT,OAAO,CAACM,IAAR,CAAaP,IAAK,EAHpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAYD,CArBD;;AAuBA,MAAMW,GAAG,GAAG,MAAM;AAChB,QAAMC,SAAS,GAAGpB,QAAQ,CAAC,MAAD,CAA1B;AACA,QAAM,CAACQ,IAAD,EAAOa,OAAP,IAAkBxB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMY,OAAO,GAAGF,UAAU,CAACC,IAAD,CAA1B;;AAEA,QAAMc,KAAK,GAAIC,CAAD,IAAO;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,OAAO,CAACD,SAAS,CAAClB,KAAX,CAAP;AACD,GAHD;;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEoB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,+CAAWF,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CADF,EAME,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEX,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CApBD;;AAsBA,eAAeU,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\n\r\nconst useField = (type) => {\r\n  const [value, setValue] = useState(\"\")\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    onChange\r\n  }\r\n}\r\n\r\nconst useCountry = (name) => {\r\n  const [country, setCountry] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const fetchedCountry = axios.get(`\r\n     https://restcountries.eu/rest/v2/name/${name}?fullText=true`)\r\n  })\r\n  setCountry(fetchedCountry)\r\n\r\n  return country\r\n}\r\n\r\nconst Country = ({ country }) => {\r\n  if (!country) {\r\n    return null\r\n  }\r\n\r\n  if (!country.found) {\r\n    return <div>not found...</div>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>{country.data.name} </h3>\r\n      <div>capital {country.data.capital} </div>\r\n      <div>population {country.data.population}</div>\r\n      <img\r\n        src={country.data.flag}\r\n        height=\"100\"\r\n        alt={`flag of ${country.data.name}`}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const nameInput = useField(\"text\")\r\n  const [name, setName] = useState(\"\")\r\n  const country = useCountry(name)\r\n\r\n  const fetch = (e) => {\r\n    e.preventDefault()\r\n    setName(nameInput.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={fetch}>\r\n        <input {...nameInput} />\r\n        <button>find</button>\r\n      </form>\r\n\r\n      <Country country={country} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}