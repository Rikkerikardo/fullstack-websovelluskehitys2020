{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Koulu\\\\Desktop\\\\Fullstack\\\\fullstack-websovelluskehitys2020\\\\osa7\\\\bloglist-frontend\\\\src\\\\components\\\\LoginForm.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../reducers/loggedUserReducer\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { setNotification } from \"../reducers/notificationReducer\";\n\nconst LoginForm = () => {\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user);\n\n  const handleLogIn = event => {\n    event.preventDefault();\n    const credentials = {\n      username: event.target.username.value,\n      password: event.target.password.value\n    };\n    dispatch(login(credentials));\n\n    if (user.isLoggedIn === null) {\n      console.log(\"error\");\n      dispatch(setNotification(\"wrong credentials\", 10));\n    }\n\n    event.target.username.value = \"\";\n    event.target.password.value = \"\";\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Login\"), React.createElement(Form, {\n    onSubmit: handleLogIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"username\"), React.createElement(Form.Control, {\n    id: \"username\",\n    type: \"text\",\n    name: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"password\"), React.createElement(Form.Control, {\n    id: \"password\",\n    type: \"password\",\n    name: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: \"my-3\",\n    variant: \"info\",\n    id: \"login-button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"login\")));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/Koulu/Desktop/Fullstack/fullstack-websovelluskehitys2020/osa7/bloglist-frontend/src/components/LoginForm.js"],"names":["React","useEffect","useDispatch","useSelector","login","Form","Button","setNotification","LoginForm","dispatch","user","state","handleLogIn","event","preventDefault","credentials","username","target","value","password","isLoggedIn","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT,QAAsB,+BAAtB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,eAAT,QAAgC,iCAAhC;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAMQ,IAAI,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAxB;;AAEA,QAAME,WAAW,GAAIC,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,WAAW,GAAG;AAClBC,MAAAA,QAAQ,EAAEH,KAAK,CAACI,MAAN,CAAaD,QAAb,CAAsBE,KADd;AAElBC,MAAAA,QAAQ,EAAEN,KAAK,CAACI,MAAN,CAAaE,QAAb,CAAsBD;AAFd,KAApB;AAIAT,IAAAA,QAAQ,CAACL,KAAK,CAACW,WAAD,CAAN,CAAR;;AAEA,QAAIL,IAAI,CAACU,UAAL,KAAoB,IAAxB,EAA8B;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAb,MAAAA,QAAQ,CAACF,eAAe,CAAC,mBAAD,EAAsB,EAAtB,CAAhB,CAAR;AACD;;AAEDM,IAAAA,KAAK,CAACI,MAAN,CAAaD,QAAb,CAAsBE,KAAtB,GAA8B,EAA9B;AACAL,IAAAA,KAAK,CAACI,MAAN,CAAaE,QAAb,CAAsBD,KAAtB,GAA8B,EAA9B;AACD,GAfD;;AAiBA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEN,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,EAAE,EAAC,UAAjB;AAA4B,IAAA,IAAI,EAAC,MAAjC;AAAwC,IAAA,IAAI,EAAC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE,oBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,EAAE,EAAC,UAAjB;AAA4B,IAAA,IAAI,EAAC,UAAjC;AAA4C,IAAA,IAAI,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,MAAlB;AAAyB,IAAA,OAAO,EAAC,MAAjC;AAAwC,IAAA,EAAE,EAAC,cAA3C;AAA0D,IAAA,IAAI,EAAC,QAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALF,CAFF,CADF;AAcD,CAnCD;;AAqCA,eAAeJ,SAAf","sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { login } from \"../reducers/loggedUserReducer\"\r\nimport { Form, Button } from \"react-bootstrap\"\r\nimport { setNotification } from \"../reducers/notificationReducer\"\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch()\r\n  const user = useSelector((state) => state.user)\r\n\r\n  const handleLogIn = (event) => {\r\n    event.preventDefault()\r\n    const credentials = {\r\n      username: event.target.username.value,\r\n      password: event.target.password.value\r\n    }\r\n    dispatch(login(credentials))\r\n\r\n    if (user.isLoggedIn === null) {\r\n      console.log(\"error\")\r\n      dispatch(setNotification(\"wrong credentials\", 10))\r\n    }\r\n\r\n    event.target.username.value = \"\"\r\n    event.target.password.value = \"\"\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n      <Form onSubmit={handleLogIn}>\r\n        <Form.Label>username</Form.Label>\r\n        <Form.Control id=\"username\" type=\"text\" name=\"username\" />\r\n        <Form.Label>password</Form.Label>\r\n        <Form.Control id=\"password\" type=\"password\" name=\"password\" />\r\n        <Button className=\"my-3\" variant=\"info\" id=\"login-button\" type=\"submit\">\r\n          login\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n"]},"metadata":{},"sourceType":"module"}