{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Koulu\\\\Desktop\\\\Fullstack\\\\fullstack-websovelluskehitys2020\\\\osa7\\\\ultimate-hooks\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst useField = type => {\n  const [value, setValue] = useState(\"\");\n\n  const onChange = event => {\n    setValue(event.target.value);\n  };\n\n  return {\n    type,\n    value,\n    onChange\n  };\n};\n\nconst useResource = baseUrl => {\n  const [resources, setResources] = useState([]);\n  useEffect(() => {\n    const request = axios.get(baseUrl);\n    request.then(response => setResources(response.data));\n  }, [setResources]);\n\n  const create = async newObject => {\n    const config = {\n      headers: {\n        Authorization: token\n      }\n    };\n    const response = await axios.post(baseUrl, newObject, config);\n    setResources(resources.concat(response.data));\n    return response.data;\n  };\n\n  const service = {\n    create\n  };\n  return [resources, service];\n};\n\nconst App = () => {\n  const content = useField(\"text\");\n  const name = useField(\"text\");\n  const number = useField(\"text\");\n  const [notes, noteService] = useResource(\"http://localhost:3005/notes\");\n  const [persons, personService] = useResource(\"http://localhost:3005/persons\");\n\n  const handleNoteSubmit = event => {\n    event.preventDefault();\n    noteService.create({\n      content: content.value\n    });\n  };\n\n  const handlePersonSubmit = event => {\n    event.preventDefault();\n    personService.create({\n      name: name.value,\n      number: number.value\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"notes\"), React.createElement(\"form\", {\n    onSubmit: handleNoteSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", Object.assign({}, content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"create\")), notes.map(n => React.createElement(\"p\", {\n    key: n.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, n.content)), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"persons\"), React.createElement(\"form\", {\n    onSubmit: handlePersonSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"name \", React.createElement(\"input\", Object.assign({}, name, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), \"number \", React.createElement(\"input\", Object.assign({}, number, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"create\")), persons.map(n => React.createElement(\"p\", {\n    key: n.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, n.name, \" \", n.number)));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Koulu/Desktop/Fullstack/fullstack-websovelluskehitys2020/osa7/ultimate-hooks/src/App.js"],"names":["React","useState","useEffect","axios","useField","type","value","setValue","onChange","event","target","useResource","baseUrl","resources","setResources","request","get","then","response","data","create","newObject","config","headers","Authorization","token","post","concat","service","App","content","name","number","notes","noteService","persons","personService","handleNoteSubmit","preventDefault","handlePersonSubmit","map","n","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\n\r\nconst useField = (type) => {\r\n  const [value, setValue] = useState(\"\")\r\n\r\n  const onChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return {\r\n    type,\r\n    value,\r\n    onChange\r\n  }\r\n}\r\n\r\nconst useResource = (baseUrl) => {\r\n  const [resources, setResources] = useState([])\r\n\r\n  useEffect(() => {\r\n    const request = axios.get(baseUrl)\r\n    request.then((response) => setResources(response.data))\r\n  }, [setResources])\r\n\r\n  const create = async (newObject) => {\r\n    const config = {\r\n      headers: { Authorization: token }\r\n    }\r\n\r\n    const response = await axios.post(baseUrl, newObject, config)\r\n    setResources(resources.concat(response.data))\r\n    return response.data\r\n  }\r\n\r\n  const service = {\r\n    create\r\n  }\r\n\r\n  return [resources, service]\r\n}\r\n\r\nconst App = () => {\r\n  const content = useField(\"text\")\r\n  const name = useField(\"text\")\r\n  const number = useField(\"text\")\r\n\r\n  const [notes, noteService] = useResource(\"http://localhost:3005/notes\")\r\n  const [persons, personService] = useResource(\"http://localhost:3005/persons\")\r\n\r\n  const handleNoteSubmit = (event) => {\r\n    event.preventDefault()\r\n    noteService.create({ content: content.value })\r\n  }\r\n\r\n  const handlePersonSubmit = (event) => {\r\n    event.preventDefault()\r\n    personService.create({ name: name.value, number: number.value })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>notes</h2>\r\n      <form onSubmit={handleNoteSubmit}>\r\n        <input {...content} />\r\n        <button>create</button>\r\n      </form>\r\n      {notes.map((n) => (\r\n        <p key={n.id}>{n.content}</p>\r\n      ))}\r\n\r\n      <h2>persons</h2>\r\n      <form onSubmit={handlePersonSubmit}>\r\n        name <input {...name} /> <br />\r\n        number <input {...number} />\r\n        <button>create</button>\r\n      </form>\r\n      {persons.map((n) => (\r\n        <p key={n.id}>\r\n          {n.name} {n.number}\r\n        </p>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}